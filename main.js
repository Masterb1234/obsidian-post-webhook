/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
*/

var __getOwnPropNames = Object.getOwnPropertyNames;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};

// src/settings/WebhookSettingsTab.js
var require_WebhookSettingsTab = __commonJS({
  "src/settings/WebhookSettingsTab.js"(exports2, module2) {
    var { PluginSettingTab, Setting, Notice, requestUrl } = require("obsidian");
    var WebhookSettingsTab2 = class extends PluginSettingTab {
      constructor(app2, plugin) {
        super(app2, plugin);
        this.plugin = plugin;
      }
      display() {
        const { containerEl } = this;
        containerEl.empty();
        const webhooksContainer = containerEl.createDiv("webhooks-container");
        this.plugin.settings.webhooks.forEach((webhook, index) => {
          const webhookContainer = webhooksContainer.createDiv("webhook-container");
          webhookContainer.dataset.webhookId = webhook.id;
          if (index > 0) {
            const separator = webhookContainer.createEl("hr");
            separator.style.margin = "1em 0";
            separator.style.border = "none";
            separator.style.borderTop = "1px solid var(--background-modifier-border)";
          }
          this.createNameSetting(webhook, webhookContainer);
          this.createUrlSetting(webhook, webhookContainer);
          this.createResponseSetting(webhook, webhookContainer);
          this.createTestButton(webhook, webhookContainer);
          if (this.plugin.settings.webhooks.length > 1) {
            this.createRemoveButton(webhook, index, webhookContainer);
          }
        });
        const addWebhookContainer = containerEl.createDiv("add-webhook-container");
        addWebhookContainer.style.marginTop = "2em";
        new Setting(addWebhookContainer).setName("Add New Webhook").setDesc("Add another Webhook configuration").addButton((button) => button.setButtonText("+ Add Webhook").onClick(async () => {
          const newId = `webhook-${Date.now()}`;
          const newWebhook = {
            id: newId,
            name: "New Webhook",
            url: "",
            attachResponse: false
          };
          this.plugin.settings.webhooks.push(newWebhook);
          await this.plugin.saveSettings();
          this.display();
        }));
      }
      createNameSetting(webhook, container) {
        const setting = new Setting(container).setName("Webhook Name").setDesc("Enter a name for this Webhook").addText((text) => text.setPlaceholder("My Webhook").setValue(webhook.name).onChange(async (value) => {
          webhook.name = value;
          await this.plugin.saveSettings();
        }));
        setting.settingEl.style.borderTop = "none";
      }
      createUrlSetting(webhook, container) {
        new Setting(container).setName("Webhook URL").setDesc("Enter the URL where your notes will be sent").addText((text) => text.setPlaceholder("https://your-webhook-url").setValue(webhook.url).onChange(async (value) => {
          webhook.url = value;
          await this.plugin.saveSettings();
        }));
      }
      createResponseSetting(webhook, container) {
        new Setting(container).setName("Attach Response").setDesc("Append webhook response to the note").addToggle((toggle) => toggle.setValue(webhook.attachResponse).onChange(async (value) => {
          webhook.attachResponse = value;
          await this.plugin.saveSettings();
        }));
      }
      createTestButton(webhook, container) {
        new Setting(container).setName("Test Webhook").setDesc("Send a test request to verify your Webhook configuration").addButton((button) => button.setButtonText("Test Webhook").onClick(async () => {
          if (!webhook.url) {
            new Notice("Please configure Webhook URL first");
            return;
          }
          try {
            const testPayload = {
              test: true,
              timestamp: Date.now(),
              message: "Test Webhook from Obsidian"
            };
            const response = await requestUrl({
              url: webhook.url,
              method: "POST",
              headers: {
                "Content-Type": "application/json",
                "Accept": "application/json"
              },
              body: JSON.stringify(testPayload)
            });
            if (response.status < 400) {
              new Notice(`Test Webhook sent successfully to ${webhook.name}`);
            } else {
              throw new Error(`HTTP ${response.status}`);
            }
          } catch (error) {
            new Notice(`Test failed: ${error.message}`);
          }
        }));
      }
      createRemoveButton(webhook, index, container) {
        new Setting(container).setName("Remove Webhook").setDesc("Delete this Webhook configuration").addButton((button) => button.setButtonText("Remove").setWarning().onClick(async () => {
          this.plugin.settings.webhooks = this.plugin.settings.webhooks.filter((_, i) => i !== index);
          await this.plugin.saveSettings();
          this.display();
        }));
      }
    };
    module2.exports = WebhookSettingsTab2;
  }
});

// src/services/ResponseHandler.js
var require_ResponseHandler = __commonJS({
  "src/services/ResponseHandler.js"(exports2, module2) {
    var { TFile } = require("obsidian");
    var ResponseHandler = class {
      static async processResponse(app2, response) {
        var _a;
        const contentType = ((_a = response.headers) == null ? void 0 : _a["content-type"]) || "";
        if (contentType.includes("application/json")) {
          return this.handleJsonResponse(response);
        }
        if (contentType.includes("text/")) {
          return this.handleTextResponse(response);
        }
        return this.handleBinaryResponse(app2, response);
      }
      static async handleJsonResponse(response) {
        const jsonData = response.json;
        return "```json\n" + JSON.stringify(jsonData, null, 2) + "\n```";
      }
      static async handleTextResponse(response) {
        return response.text;
      }
      static async handleBinaryResponse(app2, response) {
        const buffer = await response.arrayBuffer;
        const filename = this.generateFilename(response);
        const file = await app2.vault.createBinary(
          `${app2.vault.config.attachmentFolderPath}/${filename}`,
          buffer
        );
        return `![[${file.name}]]`;
      }
      static generateFilename(response) {
        var _a, _b;
        const contentDisposition = (_a = response.headers) == null ? void 0 : _a["content-disposition"];
        const defaultExt = this.getExtensionFromContentType((_b = response.headers) == null ? void 0 : _b["content-type"]);
        if (contentDisposition) {
          const match = contentDisposition.match(/filename="?([^"]+)"?/);
          if (match)
            return match[1];
        }
        return `response-${Date.now()}${defaultExt}`;
      }
      static getExtensionFromContentType(contentType = "") {
        const mimeToExt = {
          // Images
          "image/png": ".png",
          "image/jpeg": ".jpg",
          "image/jpg": ".jpg",
          "image/gif": ".gif",
          "image/webp": ".webp",
          "image/svg+xml": ".svg",
          "image/bmp": ".bmp",
          "image/tiff": ".tiff",
          // Audio
          "audio/mpeg": ".mp3",
          "audio/mp3": ".mp3",
          "audio/wav": ".wav",
          "audio/wave": ".wav",
          "audio/x-wav": ".wav",
          "audio/ogg": ".ogg",
          "audio/opus": ".opus",
          "audio/aac": ".aac",
          "audio/mp4": ".m4a",
          "audio/x-m4a": ".m4a",
          "audio/flac": ".flac",
          // Video
          "video/mp4": ".mp4",
          "video/mpeg": ".mpeg",
          "video/webm": ".webm",
          "video/ogg": ".ogv",
          "video/quicktime": ".mov",
          "video/x-msvideo": ".avi",
          "video/x-matroska": ".mkv",
          // Documents
          "application/pdf": ".pdf",
          "application/msword": ".doc",
          "application/vnd.openxmlformats-officedocument.wordprocessingml.document": ".docx",
          "application/vnd.ms-excel": ".xls",
          "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet": ".xlsx",
          "application/vnd.ms-powerpoint": ".ppt",
          "application/vnd.openxmlformats-officedocument.presentationml.presentation": ".pptx",
          // Archives
          "application/zip": ".zip",
          "application/x-rar-compressed": ".rar",
          "application/x-7z-compressed": ".7z",
          "application/x-tar": ".tar",
          "application/gzip": ".gz",
          // Other
          "application/json": ".json",
          "application/xml": ".xml",
          "text/plain": ".txt",
          "text/csv": ".csv",
          "text/markdown": ".md"
        };
        for (const [mime, ext] of Object.entries(mimeToExt)) {
          if (contentType.includes(mime))
            return ext;
        }
        return ".bin";
      }
    };
    module2.exports = ResponseHandler;
  }
});

// src/services/WebhookService.js
var require_WebhookService = __commonJS({
  "src/services/WebhookService.js"(exports2, module2) {
    var { requestUrl, arrayBufferToBase64, parseYaml, getFrontMatterInfo } = require("obsidian");
    var ResponseHandler = require_ResponseHandler();
    var WebhookService = class {
      static validateUrl(url) {
        try {
          const parsedUrl = new URL(url);
          return parsedUrl.protocol === "http:" || parsedUrl.protocol === "https:";
        } catch (e) {
          return false;
        }
      }
      static parseYamlFrontmatter(content) {
        const info = getFrontMatterInfo(content);
        if (!info.exists) {
          return {
            frontmatter: {},
            content
          };
        }
        const frontmatter = parseYaml(info.frontmatter);
        const contentWithoutFrontmatter = content.slice(info.contentStart);
        return {
          frontmatter,
          content: contentWithoutFrontmatter
        };
      }
      static async getAttachments(app2, file) {
        const attachments = [];
        const cache = app2.metadataCache.getFileCache(file);
        if (!cache) {
          return attachments;
        }
        const processFile = async (linkedFile) => {
          if (linkedFile && !linkedFile.children) {
            const buffer = await app2.vault.readBinary(linkedFile);
            const base64 = arrayBufferToBase64(buffer);
            const mimeType = this.getMimeType(linkedFile.extension);
            attachments.push({
              name: linkedFile.name,
              type: linkedFile.extension,
              mimeType,
              size: buffer.byteLength,
              data: `data:${mimeType};base64,${base64}`,
              path: linkedFile.path
            });
          }
        };
        if (cache.embeds) {
          for (const embed of cache.embeds) {
            if (embed.link) {
              const linkedFile = app2.metadataCache.getFirstLinkpathDest(embed.link, file.path);
              if (linkedFile) {
                await processFile(linkedFile);
              }
            }
          }
        }
        if (cache.links) {
          for (const link of cache.links) {
            if (link.link) {
              const linkedFile = app2.metadataCache.getFirstLinkpathDest(link.link, file.path);
              if (linkedFile) {
                await processFile(linkedFile);
              }
            }
          }
        }
        return attachments;
      }
      static getMimeType(extension) {
        const mimeTypes = {
          png: "image/png",
          jpg: "image/jpeg",
          jpeg: "image/jpeg",
          gif: "image/gif",
          webp: "image/webp",
          svg: "image/svg+xml",
          mp3: "audio/mpeg",
          wav: "audio/wav",
          ogg: "audio/ogg",
          m4a: "audio/mp4",
          mp4: "video/mp4",
          webm: "video/webm",
          ogv: "video/ogg",
          mov: "video/quicktime",
          pdf: "application/pdf",
          doc: "application/msword",
          docx: "application/vnd.openxmlformats-officedocument.wordprocessingml.document",
          json: "application/json",
          xml: "application/xml",
          zip: "application/zip"
        };
        return mimeTypes[extension == null ? void 0 : extension.toLowerCase()] || "application/octet-stream";
      }
      static async sendContent(app2, webhookUrl, content, filename, file, selectedText = null) {
        if (!webhookUrl) {
          throw new Error("Webhook URL is required");
        }
        if (!this.validateUrl(webhookUrl)) {
          throw new Error("Invalid Webhook URL. Must be a valid HTTP or HTTPS URL");
        }
        try {
          const info = getFrontMatterInfo(content);
          const attachments = await this.getAttachments(app2, file);
          let payload;
          if (info.exists) {
            const frontmatter = parseYaml(info.frontmatter);
            const noteContent = selectedText || content.slice(info.contentStart).trim();
            payload = {
              ...frontmatter,
              content: noteContent,
              filename,
              timestamp: Date.now(),
              attachments
            };
          } else {
            payload = {
              content: selectedText || content,
              filename,
              timestamp: Date.now(),
              attachments
            };
          }
          const response = await requestUrl({
            url: webhookUrl,
            method: "POST",
            headers: {
              "Content-Type": "application/json",
              "Accept": "application/json"
            },
            body: JSON.stringify(payload)
          });
          if (response.status >= 400) {
            throw new Error(`Request failed: ${response.status}`);
          }
          const processedResponse = await ResponseHandler.processResponse(app2, response);
          return {
            status: response.status,
            text: processedResponse
          };
        } catch (error) {
          if (error.message.includes("Failed to fetch")) {
            throw new Error("Could not connect to the Webhook URL. Please check your internet connection and the URL");
          }
          throw new Error(`Failed to send Webhook: ${error.message}`);
        }
      }
    };
    module2.exports = WebhookService;
  }
});

// src/utils/SelectionCache.js
var require_SelectionCache = __commonJS({
  "src/utils/SelectionCache.js"(exports2, module2) {
    var SelectionCache = class {
      constructor() {
        this.cache = {
          text: "",
          timestamp: 0
        };
        this.CACHE_TIMEOUT = 5e3;
        this.setupMutationObserver();
        this.setupSelectionListener();
      }
      setupMutationObserver() {
        this.observer = new MutationObserver(() => {
          this.updateFromEditor();
        });
        this.observer.observe(document.body, {
          childList: true,
          subtree: true,
          characterData: true
        });
      }
      setupSelectionListener() {
        document.addEventListener("selectionchange", () => {
          this.updateFromEditor();
        });
      }
      updateFromEditor() {
        var _a, _b;
        const activeLeaf = (_a = app == null ? void 0 : app.workspace) == null ? void 0 : _a.activeLeaf;
        const editor = (_b = activeLeaf == null ? void 0 : activeLeaf.view) == null ? void 0 : _b.editor;
        if (editor && editor.getSelection) {
          const selection = editor.getSelection();
          if (selection) {
            this.updateCache(selection);
          }
        }
      }
      updateCache(text) {
        this.cache = {
          text,
          timestamp: Date.now()
        };
      }
      getSelection() {
        var _a, _b;
        const activeLeaf = (_a = app == null ? void 0 : app.workspace) == null ? void 0 : _a.activeLeaf;
        const editor = (_b = activeLeaf == null ? void 0 : activeLeaf.view) == null ? void 0 : _b.editor;
        if (editor && editor.getSelection) {
          const selection = editor.getSelection();
          if (selection) {
            return selection;
          }
        }
        const currentTime = Date.now();
        if (currentTime - this.cache.timestamp < this.CACHE_TIMEOUT) {
          return this.cache.text;
        }
        return "";
      }
      destroy() {
        if (this.observer) {
          this.observer.disconnect();
        }
      }
    };
    module2.exports = SelectionCache;
  }
});

// src/commands/WebhookCommands.js
var require_WebhookCommands = __commonJS({
  "src/commands/WebhookCommands.js"(exports2, module2) {
    var { Notice } = require("obsidian");
    var WebhookService = require_WebhookService();
    var SelectionCache = require_SelectionCache();
    var WebhookCommands2 = class {
      constructor(plugin) {
        this.plugin = plugin;
        this.registeredCommands = /* @__PURE__ */ new Set();
        this.selectionCache = new SelectionCache();
      }
      registerCommands() {
        this.unregisterCommands();
        this.plugin.settings.webhooks.forEach((webhook) => {
          const noteCommandId = `send-to-webhook-${webhook.id}`;
          const noteCommand = {
            id: noteCommandId,
            name: `Send Note to ${webhook.name}`,
            callback: async () => {
              const file = this.plugin.app.workspace.getActiveFile();
              if (!file) {
                new Notice("No active file");
                return;
              }
              try {
                const content = await this.plugin.app.vault.read(file);
                const response = await WebhookService.sendContent(
                  this.plugin.app,
                  webhook.url,
                  content,
                  file.name,
                  file
                );
                if (webhook.attachResponse && response.text) {
                  const responseContent = `

---
${response.text}`;
                  const newContent = content + responseContent;
                  await this.plugin.app.vault.modify(file, newContent);
                }
                new Notice(`Successfully sent to ${webhook.name}`);
              } catch (error) {
                console.error("Webhook error:", error);
                new Notice(`Error: ${error.message}`);
              }
            }
          };
          this.plugin.addCommand(noteCommand);
          this.registeredCommands.add(noteCommandId);
          const selectionCommandId = `send-selection-to-webhook-${webhook.id}`;
          const selectionCommand = {
            id: selectionCommandId,
            name: `Send Selection to ${webhook.name}`,
            callback: async () => {
              const file = this.plugin.app.workspace.getActiveFile();
              if (!file) {
                new Notice("No active file");
                return;
              }
              const selection = this.selectionCache.getSelection();
              if (!selection) {
                new Notice("No text selected");
                return;
              }
              try {
                const fullContent = await this.plugin.app.vault.read(file);
                const response = await WebhookService.sendContent(
                  this.plugin.app,
                  webhook.url,
                  fullContent,
                  `${file.name} (selection)`,
                  file,
                  selection
                );
                if (webhook.attachResponse && response.text) {
                  const selectionIndex = fullContent.indexOf(selection);
                  if (selectionIndex !== -1) {
                    const responseContent = `
${response.text}`;
                    const newContent = fullContent.substring(0, selectionIndex + selection.length) + responseContent + fullContent.substring(selectionIndex + selection.length);
                    await this.plugin.app.vault.modify(file, newContent);
                  }
                }
                new Notice(`Successfully sent selection to ${webhook.name}`);
              } catch (error) {
                console.error("Webhook error:", error);
                new Notice(`Error: ${error.message}`);
              }
            }
          };
          this.plugin.addCommand(selectionCommand);
          this.registeredCommands.add(selectionCommandId);
        });
      }
      unregisterCommands() {
        this.registeredCommands.forEach((commandId) => {
          const command = this.plugin.app.commands.commands[commandId];
          if (command) {
            this.plugin.app.commands.removeCommand(commandId);
          }
        });
        this.registeredCommands.clear();
      }
    };
    module2.exports = WebhookCommands2;
  }
});

// src/main.js
var { Plugin } = require("obsidian");
var WebhookSettingsTab = require_WebhookSettingsTab();
var WebhookCommands = require_WebhookCommands();
var PostWebhookPlugin = class extends Plugin {
  async onload() {
    await this.loadSettings();
    this.webhookCommands = new WebhookCommands(this);
    this.webhookCommands.registerCommands();
    this.addSettingTab(new WebhookSettingsTab(this.app, this));
  }
  onunload() {
    var _a;
    if ((_a = this.webhookCommands) == null ? void 0 : _a.selectionCache) {
      this.webhookCommands.selectionCache.destroy();
    }
  }
  async loadSettings() {
    this.settings = Object.assign({}, {
      webhooks: [{
        id: "default",
        name: "Default Webhook",
        url: "",
        attachResponse: false
      }]
    }, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
    if (this.webhookCommands) {
      this.webhookCommands.registerCommands();
    }
  }
};
module.exports = PostWebhookPlugin;
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL3NldHRpbmdzL1dlYmhvb2tTZXR0aW5nc1RhYi5qcyIsICJzcmMvc2VydmljZXMvUmVzcG9uc2VIYW5kbGVyLmpzIiwgInNyYy9zZXJ2aWNlcy9XZWJob29rU2VydmljZS5qcyIsICJzcmMvdXRpbHMvU2VsZWN0aW9uQ2FjaGUuanMiLCAic3JjL2NvbW1hbmRzL1dlYmhvb2tDb21tYW5kcy5qcyIsICJzcmMvbWFpbi5qcyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiY29uc3QgeyBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nLCBOb3RpY2UsIHJlcXVlc3RVcmwgfSA9IHJlcXVpcmUoJ29ic2lkaWFuJyk7XG5cbmNsYXNzIFdlYmhvb2tTZXR0aW5nc1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuICAgIGNvbnN0cnVjdG9yKGFwcCwgcGx1Z2luKSB7XG4gICAgICAgIHN1cGVyKGFwcCwgcGx1Z2luKTtcbiAgICAgICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gICAgfVxuXG4gICAgZGlzcGxheSgpIHtcbiAgICAgICAgY29uc3QgeyBjb250YWluZXJFbCB9ID0gdGhpcztcbiAgICAgICAgY29udGFpbmVyRWwuZW1wdHkoKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHdlYmhvb2tzQ29udGFpbmVyID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KCd3ZWJob29rcy1jb250YWluZXInKTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLndlYmhvb2tzLmZvckVhY2goKHdlYmhvb2ssIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB3ZWJob29rQ29udGFpbmVyID0gd2ViaG9va3NDb250YWluZXIuY3JlYXRlRGl2KCd3ZWJob29rLWNvbnRhaW5lcicpO1xuICAgICAgICAgICAgd2ViaG9va0NvbnRhaW5lci5kYXRhc2V0LndlYmhvb2tJZCA9IHdlYmhvb2suaWQ7XG5cbiAgICAgICAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXBhcmF0b3IgPSB3ZWJob29rQ29udGFpbmVyLmNyZWF0ZUVsKCdocicpO1xuICAgICAgICAgICAgICAgIHNlcGFyYXRvci5zdHlsZS5tYXJnaW4gPSAnMWVtIDAnO1xuICAgICAgICAgICAgICAgIHNlcGFyYXRvci5zdHlsZS5ib3JkZXIgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgc2VwYXJhdG9yLnN0eWxlLmJvcmRlclRvcCA9ICcxcHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1ib3JkZXIpJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jcmVhdGVOYW1lU2V0dGluZyh3ZWJob29rLCB3ZWJob29rQ29udGFpbmVyKTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlVXJsU2V0dGluZyh3ZWJob29rLCB3ZWJob29rQ29udGFpbmVyKTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlUmVzcG9uc2VTZXR0aW5nKHdlYmhvb2ssIHdlYmhvb2tDb250YWluZXIpO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVUZXN0QnV0dG9uKHdlYmhvb2ssIHdlYmhvb2tDb250YWluZXIpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3Mud2ViaG9va3MubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlUmVtb3ZlQnV0dG9uKHdlYmhvb2ssIGluZGV4LCB3ZWJob29rQ29udGFpbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgYWRkV2ViaG9va0NvbnRhaW5lciA9IGNvbnRhaW5lckVsLmNyZWF0ZURpdignYWRkLXdlYmhvb2stY29udGFpbmVyJyk7XG4gICAgICAgIGFkZFdlYmhvb2tDb250YWluZXIuc3R5bGUubWFyZ2luVG9wID0gJzJlbSc7XG4gICAgICAgIFxuICAgICAgICBuZXcgU2V0dGluZyhhZGRXZWJob29rQ29udGFpbmVyKVxuICAgICAgICAgICAgLnNldE5hbWUoJ0FkZCBOZXcgV2ViaG9vaycpXG4gICAgICAgICAgICAuc2V0RGVzYygnQWRkIGFub3RoZXIgV2ViaG9vayBjb25maWd1cmF0aW9uJylcbiAgICAgICAgICAgIC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxuICAgICAgICAgICAgICAgIC5zZXRCdXR0b25UZXh0KCcrIEFkZCBXZWJob29rJylcbiAgICAgICAgICAgICAgICAub25DbGljayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0lkID0gYHdlYmhvb2stJHtEYXRlLm5vdygpfWA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld1dlYmhvb2sgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogbmV3SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnTmV3IFdlYmhvb2snLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaFJlc3BvbnNlOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Mud2ViaG9va3MucHVzaChuZXdXZWJob29rKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheSgpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICB9XG5cbiAgICBjcmVhdGVOYW1lU2V0dGluZyh3ZWJob29rLCBjb250YWluZXIpIHtcbiAgICAgICAgY29uc3Qgc2V0dGluZyA9IG5ldyBTZXR0aW5nKGNvbnRhaW5lcilcbiAgICAgICAgICAgIC5zZXROYW1lKCdXZWJob29rIE5hbWUnKVxuICAgICAgICAgICAgLnNldERlc2MoJ0VudGVyIGEgbmFtZSBmb3IgdGhpcyBXZWJob29rJylcbiAgICAgICAgICAgIC5hZGRUZXh0KHRleHQgPT4gdGV4dFxuICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcignTXkgV2ViaG9vaycpXG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKHdlYmhvb2submFtZSlcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHdlYmhvb2submFtZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgIFxuICAgICAgICAvLyBSZW1vdmUgdGhlIGRlZmF1bHQgYm9yZGVyLXRvcCBzdHlsZSBmcm9tIHRoZSBzZXR0aW5nIGVsZW1lbnRcbiAgICAgICAgc2V0dGluZy5zZXR0aW5nRWwuc3R5bGUuYm9yZGVyVG9wID0gJ25vbmUnO1xuICAgIH1cblxuICAgIGNyZWF0ZVVybFNldHRpbmcod2ViaG9vaywgY29udGFpbmVyKSB7XG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lcilcbiAgICAgICAgICAgIC5zZXROYW1lKCdXZWJob29rIFVSTCcpXG4gICAgICAgICAgICAuc2V0RGVzYygnRW50ZXIgdGhlIFVSTCB3aGVyZSB5b3VyIG5vdGVzIHdpbGwgYmUgc2VudCcpXG4gICAgICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+IHRleHRcbiAgICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoJ2h0dHBzOi8veW91ci13ZWJob29rLXVybCcpXG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKHdlYmhvb2sudXJsKVxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgd2ViaG9vay51cmwgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgIH1cblxuICAgIGNyZWF0ZVJlc3BvbnNlU2V0dGluZyh3ZWJob29rLCBjb250YWluZXIpIHtcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyKVxuICAgICAgICAgICAgLnNldE5hbWUoJ0F0dGFjaCBSZXNwb25zZScpXG4gICAgICAgICAgICAuc2V0RGVzYygnQXBwZW5kIHdlYmhvb2sgcmVzcG9uc2UgdG8gdGhlIG5vdGUnKVxuICAgICAgICAgICAgLmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKHdlYmhvb2suYXR0YWNoUmVzcG9uc2UpXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB3ZWJob29rLmF0dGFjaFJlc3BvbnNlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICB9XG5cbiAgICBjcmVhdGVUZXN0QnV0dG9uKHdlYmhvb2ssIGNvbnRhaW5lcikge1xuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXIpXG4gICAgICAgICAgICAuc2V0TmFtZSgnVGVzdCBXZWJob29rJylcbiAgICAgICAgICAgIC5zZXREZXNjKCdTZW5kIGEgdGVzdCByZXF1ZXN0IHRvIHZlcmlmeSB5b3VyIFdlYmhvb2sgY29uZmlndXJhdGlvbicpXG4gICAgICAgICAgICAuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cbiAgICAgICAgICAgICAgICAuc2V0QnV0dG9uVGV4dCgnVGVzdCBXZWJob29rJylcbiAgICAgICAgICAgICAgICAub25DbGljayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghd2ViaG9vay51cmwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoJ1BsZWFzZSBjb25maWd1cmUgV2ViaG9vayBVUkwgZmlyc3QnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXN0UGF5bG9hZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXN0OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnVGVzdCBXZWJob29rIGZyb20gT2JzaWRpYW4nXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3RVcmwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogd2ViaG9vay51cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh0ZXN0UGF5bG9hZClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzIDwgNDAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE5vdGljZShgVGVzdCBXZWJob29rIHNlbnQgc3VjY2Vzc2Z1bGx5IHRvICR7d2ViaG9vay5uYW1lfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgTm90aWNlKGBUZXN0IGZhaWxlZDogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgIH1cblxuICAgIGNyZWF0ZVJlbW92ZUJ1dHRvbih3ZWJob29rLCBpbmRleCwgY29udGFpbmVyKSB7XG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lcilcbiAgICAgICAgICAgIC5zZXROYW1lKCdSZW1vdmUgV2ViaG9vaycpXG4gICAgICAgICAgICAuc2V0RGVzYygnRGVsZXRlIHRoaXMgV2ViaG9vayBjb25maWd1cmF0aW9uJylcbiAgICAgICAgICAgIC5hZGRCdXR0b24oYnV0dG9uID0+IGJ1dHRvblxuICAgICAgICAgICAgICAgIC5zZXRCdXR0b25UZXh0KCdSZW1vdmUnKVxuICAgICAgICAgICAgICAgIC5zZXRXYXJuaW5nKClcbiAgICAgICAgICAgICAgICAub25DbGljayhhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLndlYmhvb2tzID0gdGhpcy5wbHVnaW4uc2V0dGluZ3Mud2ViaG9va3MuZmlsdGVyKChfLCBpKSA9PiBpICE9PSBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkoKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFdlYmhvb2tTZXR0aW5nc1RhYjsiLCAiY29uc3QgeyBURmlsZSB9ID0gcmVxdWlyZSgnb2JzaWRpYW4nKTtcblxuY2xhc3MgUmVzcG9uc2VIYW5kbGVyIHtcbiAgICBzdGF0aWMgYXN5bmMgcHJvY2Vzc1Jlc3BvbnNlKGFwcCwgcmVzcG9uc2UpIHtcbiAgICAgICAgY29uc3QgY29udGVudFR5cGUgPSByZXNwb25zZS5oZWFkZXJzPy5bJ2NvbnRlbnQtdHlwZSddIHx8ICcnO1xuXG4gICAgICAgIGlmIChjb250ZW50VHlwZS5pbmNsdWRlcygnYXBwbGljYXRpb24vanNvbicpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVKc29uUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbnRlbnRUeXBlLmluY2x1ZGVzKCd0ZXh0LycpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVUZXh0UmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlQmluYXJ5UmVzcG9uc2UoYXBwLCByZXNwb25zZSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIGhhbmRsZUpzb25SZXNwb25zZShyZXNwb25zZSkge1xuICAgICAgICBjb25zdCBqc29uRGF0YSA9IHJlc3BvbnNlLmpzb247XG4gICAgICAgIHJldHVybiAnYGBganNvblxcbicgKyBKU09OLnN0cmluZ2lmeShqc29uRGF0YSwgbnVsbCwgMikgKyAnXFxuYGBgJztcbiAgICB9XG5cbiAgICBzdGF0aWMgYXN5bmMgaGFuZGxlVGV4dFJlc3BvbnNlKHJlc3BvbnNlKSB7XG4gICAgICAgIHJldHVybiByZXNwb25zZS50ZXh0O1xuICAgIH1cblxuICAgIHN0YXRpYyBhc3luYyBoYW5kbGVCaW5hcnlSZXNwb25zZShhcHAsIHJlc3BvbnNlKSB7XG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IGF3YWl0IHJlc3BvbnNlLmFycmF5QnVmZmVyO1xuICAgICAgICBjb25zdCBmaWxlbmFtZSA9IHRoaXMuZ2VuZXJhdGVGaWxlbmFtZShyZXNwb25zZSk7XG4gICAgICAgIFxuICAgICAgICAvLyBDcmVhdGUgZmlsZSBpbiBPYnNpZGlhbidzIGRlZmF1bHQgYXR0YWNobWVudHMgZm9sZGVyXG4gICAgICAgIGNvbnN0IGZpbGUgPSBhd2FpdCBhcHAudmF1bHQuY3JlYXRlQmluYXJ5KFxuICAgICAgICAgICAgYCR7YXBwLnZhdWx0LmNvbmZpZy5hdHRhY2htZW50Rm9sZGVyUGF0aH0vJHtmaWxlbmFtZX1gLFxuICAgICAgICAgICAgYnVmZmVyXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gUmV0dXJuIG1hcmtkb3duIGxpbmsgdXNpbmcgT2JzaWRpYW4ncyBsaW5rIGZvcm1hdFxuICAgICAgICByZXR1cm4gYCFbWyR7ZmlsZS5uYW1lfV1dYDtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2VuZXJhdGVGaWxlbmFtZShyZXNwb25zZSkge1xuICAgICAgICBjb25zdCBjb250ZW50RGlzcG9zaXRpb24gPSByZXNwb25zZS5oZWFkZXJzPy5bJ2NvbnRlbnQtZGlzcG9zaXRpb24nXTtcbiAgICAgICAgY29uc3QgZGVmYXVsdEV4dCA9IHRoaXMuZ2V0RXh0ZW5zaW9uRnJvbUNvbnRlbnRUeXBlKHJlc3BvbnNlLmhlYWRlcnM/LlsnY29udGVudC10eXBlJ10pO1xuICAgICAgICBcbiAgICAgICAgaWYgKGNvbnRlbnREaXNwb3NpdGlvbikge1xuICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBjb250ZW50RGlzcG9zaXRpb24ubWF0Y2goL2ZpbGVuYW1lPVwiPyhbXlwiXSspXCI/Lyk7XG4gICAgICAgICAgICBpZiAobWF0Y2gpIHJldHVybiBtYXRjaFsxXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBgcmVzcG9uc2UtJHtEYXRlLm5vdygpfSR7ZGVmYXVsdEV4dH1gO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRFeHRlbnNpb25Gcm9tQ29udGVudFR5cGUoY29udGVudFR5cGUgPSAnJykge1xuICAgICAgICBjb25zdCBtaW1lVG9FeHQgPSB7XG4gICAgICAgICAgICAvLyBJbWFnZXNcbiAgICAgICAgICAgICdpbWFnZS9wbmcnOiAnLnBuZycsXG4gICAgICAgICAgICAnaW1hZ2UvanBlZyc6ICcuanBnJyxcbiAgICAgICAgICAgICdpbWFnZS9qcGcnOiAnLmpwZycsXG4gICAgICAgICAgICAnaW1hZ2UvZ2lmJzogJy5naWYnLFxuICAgICAgICAgICAgJ2ltYWdlL3dlYnAnOiAnLndlYnAnLFxuICAgICAgICAgICAgJ2ltYWdlL3N2Zyt4bWwnOiAnLnN2ZycsXG4gICAgICAgICAgICAnaW1hZ2UvYm1wJzogJy5ibXAnLFxuICAgICAgICAgICAgJ2ltYWdlL3RpZmYnOiAnLnRpZmYnLFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBBdWRpb1xuICAgICAgICAgICAgJ2F1ZGlvL21wZWcnOiAnLm1wMycsXG4gICAgICAgICAgICAnYXVkaW8vbXAzJzogJy5tcDMnLFxuICAgICAgICAgICAgJ2F1ZGlvL3dhdic6ICcud2F2JyxcbiAgICAgICAgICAgICdhdWRpby93YXZlJzogJy53YXYnLFxuICAgICAgICAgICAgJ2F1ZGlvL3gtd2F2JzogJy53YXYnLFxuICAgICAgICAgICAgJ2F1ZGlvL29nZyc6ICcub2dnJyxcbiAgICAgICAgICAgICdhdWRpby9vcHVzJzogJy5vcHVzJyxcbiAgICAgICAgICAgICdhdWRpby9hYWMnOiAnLmFhYycsXG4gICAgICAgICAgICAnYXVkaW8vbXA0JzogJy5tNGEnLFxuICAgICAgICAgICAgJ2F1ZGlvL3gtbTRhJzogJy5tNGEnLFxuICAgICAgICAgICAgJ2F1ZGlvL2ZsYWMnOiAnLmZsYWMnLFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBWaWRlb1xuICAgICAgICAgICAgJ3ZpZGVvL21wNCc6ICcubXA0JyxcbiAgICAgICAgICAgICd2aWRlby9tcGVnJzogJy5tcGVnJyxcbiAgICAgICAgICAgICd2aWRlby93ZWJtJzogJy53ZWJtJyxcbiAgICAgICAgICAgICd2aWRlby9vZ2cnOiAnLm9ndicsXG4gICAgICAgICAgICAndmlkZW8vcXVpY2t0aW1lJzogJy5tb3YnLFxuICAgICAgICAgICAgJ3ZpZGVvL3gtbXN2aWRlbyc6ICcuYXZpJyxcbiAgICAgICAgICAgICd2aWRlby94LW1hdHJvc2thJzogJy5ta3YnLFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBEb2N1bWVudHNcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9wZGYnOiAnLnBkZicsXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vbXN3b3JkJzogJy5kb2MnLFxuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLmRvY3VtZW50JzogJy5kb2N4JyxcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwnOiAnLnhscycsXG4gICAgICAgICAgICAnYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuc2hlZXQnOiAnLnhsc3gnLFxuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL3ZuZC5tcy1wb3dlcnBvaW50JzogJy5wcHQnLFxuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5wcmVzZW50YXRpb25tbC5wcmVzZW50YXRpb24nOiAnLnBwdHgnLFxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBBcmNoaXZlc1xuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL3ppcCc6ICcuemlwJyxcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi94LXJhci1jb21wcmVzc2VkJzogJy5yYXInLFxuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL3gtN3otY29tcHJlc3NlZCc6ICcuN3onLFxuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL3gtdGFyJzogJy50YXInLFxuICAgICAgICAgICAgJ2FwcGxpY2F0aW9uL2d6aXAnOiAnLmd6JyxcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gT3RoZXJcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi9qc29uJzogJy5qc29uJyxcbiAgICAgICAgICAgICdhcHBsaWNhdGlvbi94bWwnOiAnLnhtbCcsXG4gICAgICAgICAgICAndGV4dC9wbGFpbic6ICcudHh0JyxcbiAgICAgICAgICAgICd0ZXh0L2Nzdic6ICcuY3N2JyxcbiAgICAgICAgICAgICd0ZXh0L21hcmtkb3duJzogJy5tZCdcbiAgICAgICAgfTtcblxuICAgICAgICBmb3IgKGNvbnN0IFttaW1lLCBleHRdIG9mIE9iamVjdC5lbnRyaWVzKG1pbWVUb0V4dCkpIHtcbiAgICAgICAgICAgIGlmIChjb250ZW50VHlwZS5pbmNsdWRlcyhtaW1lKSkgcmV0dXJuIGV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAnLmJpbic7XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlc3BvbnNlSGFuZGxlcjsiLCAiY29uc3QgeyByZXF1ZXN0VXJsLCBhcnJheUJ1ZmZlclRvQmFzZTY0LCBwYXJzZVlhbWwsIGdldEZyb250TWF0dGVySW5mbyB9ID0gcmVxdWlyZSgnb2JzaWRpYW4nKTtcbmNvbnN0IFJlc3BvbnNlSGFuZGxlciA9IHJlcXVpcmUoJy4vUmVzcG9uc2VIYW5kbGVyJyk7XG5cbmNsYXNzIFdlYmhvb2tTZXJ2aWNlIHtcbiAgICBzdGF0aWMgdmFsaWRhdGVVcmwodXJsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRVcmwgPSBuZXcgVVJMKHVybCk7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VkVXJsLnByb3RvY29sID09PSAnaHR0cDonIHx8IHBhcnNlZFVybC5wcm90b2NvbCA9PT0gJ2h0dHBzOic7XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIHBhcnNlWWFtbEZyb250bWF0dGVyKGNvbnRlbnQpIHtcbiAgICAgICAgY29uc3QgaW5mbyA9IGdldEZyb250TWF0dGVySW5mbyhjb250ZW50KTtcbiAgICAgICAgaWYgKCFpbmZvLmV4aXN0cykge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBmcm9udG1hdHRlcjoge30sXG4gICAgICAgICAgICAgICAgY29udGVudFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmcm9udG1hdHRlciA9IHBhcnNlWWFtbChpbmZvLmZyb250bWF0dGVyKTtcbiAgICAgICAgY29uc3QgY29udGVudFdpdGhvdXRGcm9udG1hdHRlciA9IGNvbnRlbnQuc2xpY2UoaW5mby5jb250ZW50U3RhcnQpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZnJvbnRtYXR0ZXIsXG4gICAgICAgICAgICBjb250ZW50OiBjb250ZW50V2l0aG91dEZyb250bWF0dGVyXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc3RhdGljIGFzeW5jIGdldEF0dGFjaG1lbnRzKGFwcCwgZmlsZSkge1xuICAgICAgICBjb25zdCBhdHRhY2htZW50cyA9IFtdO1xuICAgICAgICBjb25zdCBjYWNoZSA9IGFwcC5tZXRhZGF0YUNhY2hlLmdldEZpbGVDYWNoZShmaWxlKTtcbiAgICAgICAgXG4gICAgICAgIGlmICghY2FjaGUpIHtcbiAgICAgICAgICAgIHJldHVybiBhdHRhY2htZW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHByb2Nlc3NGaWxlID0gYXN5bmMgKGxpbmtlZEZpbGUpID0+IHtcbiAgICAgICAgICAgIGlmIChsaW5rZWRGaWxlICYmICFsaW5rZWRGaWxlLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVmZmVyID0gYXdhaXQgYXBwLnZhdWx0LnJlYWRCaW5hcnkobGlua2VkRmlsZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYmFzZTY0ID0gYXJyYXlCdWZmZXJUb0Jhc2U2NChidWZmZXIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1pbWVUeXBlID0gdGhpcy5nZXRNaW1lVHlwZShsaW5rZWRGaWxlLmV4dGVuc2lvbik7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgYXR0YWNobWVudHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGxpbmtlZEZpbGUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogbGlua2VkRmlsZS5leHRlbnNpb24sXG4gICAgICAgICAgICAgICAgICAgIG1pbWVUeXBlOiBtaW1lVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogYnVmZmVyLmJ5dGVMZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGBkYXRhOiR7bWltZVR5cGV9O2Jhc2U2NCwke2Jhc2U2NH1gLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBsaW5rZWRGaWxlLnBhdGhcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoY2FjaGUuZW1iZWRzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVtYmVkIG9mIGNhY2hlLmVtYmVkcykge1xuICAgICAgICAgICAgICAgIGlmIChlbWJlZC5saW5rKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpbmtlZEZpbGUgPSBhcHAubWV0YWRhdGFDYWNoZS5nZXRGaXJzdExpbmtwYXRoRGVzdChlbWJlZC5saW5rLCBmaWxlLnBhdGgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGlua2VkRmlsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgcHJvY2Vzc0ZpbGUobGlua2VkRmlsZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2FjaGUubGlua3MpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbGluayBvZiBjYWNoZS5saW5rcykge1xuICAgICAgICAgICAgICAgIGlmIChsaW5rLmxpbmspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbGlua2VkRmlsZSA9IGFwcC5tZXRhZGF0YUNhY2hlLmdldEZpcnN0TGlua3BhdGhEZXN0KGxpbmsubGluaywgZmlsZS5wYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmtlZEZpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHByb2Nlc3NGaWxlKGxpbmtlZEZpbGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGF0dGFjaG1lbnRzO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRNaW1lVHlwZShleHRlbnNpb24pIHtcbiAgICAgICAgY29uc3QgbWltZVR5cGVzID0ge1xuICAgICAgICAgICAgcG5nOiAnaW1hZ2UvcG5nJyxcbiAgICAgICAgICAgIGpwZzogJ2ltYWdlL2pwZWcnLFxuICAgICAgICAgICAganBlZzogJ2ltYWdlL2pwZWcnLFxuICAgICAgICAgICAgZ2lmOiAnaW1hZ2UvZ2lmJyxcbiAgICAgICAgICAgIHdlYnA6ICdpbWFnZS93ZWJwJyxcbiAgICAgICAgICAgIHN2ZzogJ2ltYWdlL3N2Zyt4bWwnLFxuICAgICAgICAgICAgbXAzOiAnYXVkaW8vbXBlZycsXG4gICAgICAgICAgICB3YXY6ICdhdWRpby93YXYnLFxuICAgICAgICAgICAgb2dnOiAnYXVkaW8vb2dnJyxcbiAgICAgICAgICAgIG00YTogJ2F1ZGlvL21wNCcsXG4gICAgICAgICAgICBtcDQ6ICd2aWRlby9tcDQnLFxuICAgICAgICAgICAgd2VibTogJ3ZpZGVvL3dlYm0nLFxuICAgICAgICAgICAgb2d2OiAndmlkZW8vb2dnJyxcbiAgICAgICAgICAgIG1vdjogJ3ZpZGVvL3F1aWNrdGltZScsXG4gICAgICAgICAgICBwZGY6ICdhcHBsaWNhdGlvbi9wZGYnLFxuICAgICAgICAgICAgZG9jOiAnYXBwbGljYXRpb24vbXN3b3JkJyxcbiAgICAgICAgICAgIGRvY3g6ICdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQud29yZHByb2Nlc3NpbmdtbC5kb2N1bWVudCcsXG4gICAgICAgICAgICBqc29uOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB4bWw6ICdhcHBsaWNhdGlvbi94bWwnLFxuICAgICAgICAgICAgemlwOiAnYXBwbGljYXRpb24vemlwJ1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIG1pbWVUeXBlc1tleHRlbnNpb24/LnRvTG93ZXJDYXNlKCldIHx8ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nO1xuICAgIH1cblxuICAgIHN0YXRpYyBhc3luYyBzZW5kQ29udGVudChhcHAsIHdlYmhvb2tVcmwsIGNvbnRlbnQsIGZpbGVuYW1lLCBmaWxlLCBzZWxlY3RlZFRleHQgPSBudWxsKSB7XG4gICAgICAgIGlmICghd2ViaG9va1VybCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXZWJob29rIFVSTCBpcyByZXF1aXJlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlVXJsKHdlYmhvb2tVcmwpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgV2ViaG9vayBVUkwuIE11c3QgYmUgYSB2YWxpZCBIVFRQIG9yIEhUVFBTIFVSTCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGluZm8gPSBnZXRGcm9udE1hdHRlckluZm8oY29udGVudCk7XG4gICAgICAgICAgICBjb25zdCBhdHRhY2htZW50cyA9IGF3YWl0IHRoaXMuZ2V0QXR0YWNobWVudHMoYXBwLCBmaWxlKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGV0IHBheWxvYWQ7XG4gICAgICAgICAgICBpZiAoaW5mby5leGlzdHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmcm9udG1hdHRlciA9IHBhcnNlWWFtbChpbmZvLmZyb250bWF0dGVyKTtcbiAgICAgICAgICAgICAgICBjb25zdCBub3RlQ29udGVudCA9IHNlbGVjdGVkVGV4dCB8fCBjb250ZW50LnNsaWNlKGluZm8uY29udGVudFN0YXJ0KS50cmltKCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uZnJvbnRtYXR0ZXIsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IG5vdGVDb250ZW50LFxuICAgICAgICAgICAgICAgICAgICBmaWxlbmFtZTogZmlsZW5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgICAgICAgICAgYXR0YWNobWVudHM6IGF0dGFjaG1lbnRzXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogc2VsZWN0ZWRUZXh0IHx8IGNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOiBmaWxlbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgICAgICAgICBhdHRhY2htZW50czogYXR0YWNobWVudHNcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3RVcmwoe1xuICAgICAgICAgICAgICAgIHVybDogd2ViaG9va1VybCxcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSA0MDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFJlcXVlc3QgZmFpbGVkOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUHJvY2VzcyB0aGUgcmVzcG9uc2UgYmFzZWQgb24gaXRzIGNvbnRlbnQgdHlwZVxuICAgICAgICAgICAgY29uc3QgcHJvY2Vzc2VkUmVzcG9uc2UgPSBhd2FpdCBSZXNwb25zZUhhbmRsZXIucHJvY2Vzc1Jlc3BvbnNlKGFwcCwgcmVzcG9uc2UpO1xuICAgICAgICAgICAgcmV0dXJuIHsgXG4gICAgICAgICAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgICAgICAgdGV4dDogcHJvY2Vzc2VkUmVzcG9uc2UgXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnRmFpbGVkIHRvIGZldGNoJykpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBjb25uZWN0IHRvIHRoZSBXZWJob29rIFVSTC4gUGxlYXNlIGNoZWNrIHlvdXIgaW50ZXJuZXQgY29ubmVjdGlvbiBhbmQgdGhlIFVSTCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gc2VuZCBXZWJob29rOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gV2ViaG9va1NlcnZpY2U7IiwgImNsYXNzIFNlbGVjdGlvbkNhY2hlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5jYWNoZSA9IHtcbiAgICAgICAgICAgIHRleHQ6ICcnLFxuICAgICAgICAgICAgdGltZXN0YW1wOiAwXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuQ0FDSEVfVElNRU9VVCA9IDUwMDA7IC8vIDUgc2Vjb25kcyBjYWNoZSB0aW1lb3V0XG4gICAgICAgIHRoaXMuc2V0dXBNdXRhdGlvbk9ic2VydmVyKCk7XG4gICAgICAgIHRoaXMuc2V0dXBTZWxlY3Rpb25MaXN0ZW5lcigpO1xuICAgIH1cblxuICAgIHNldHVwTXV0YXRpb25PYnNlcnZlcigpIHtcbiAgICAgICAgdGhpcy5vYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRnJvbUVkaXRvcigpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLm9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuYm9keSwge1xuICAgICAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgICAgICAgc3VidHJlZTogdHJ1ZSxcbiAgICAgICAgICAgIGNoYXJhY3RlckRhdGE6IHRydWVcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2V0dXBTZWxlY3Rpb25MaXN0ZW5lcigpIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0aW9uY2hhbmdlJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVGcm9tRWRpdG9yKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHVwZGF0ZUZyb21FZGl0b3IoKSB7XG4gICAgICAgIGNvbnN0IGFjdGl2ZUxlYWYgPSBhcHA/LndvcmtzcGFjZT8uYWN0aXZlTGVhZjtcbiAgICAgICAgY29uc3QgZWRpdG9yID0gYWN0aXZlTGVhZj8udmlldz8uZWRpdG9yO1xuICAgICAgICBcbiAgICAgICAgaWYgKGVkaXRvciAmJiBlZGl0b3IuZ2V0U2VsZWN0aW9uKSB7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDYWNoZShzZWxlY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlQ2FjaGUodGV4dCkge1xuICAgICAgICB0aGlzLmNhY2hlID0ge1xuICAgICAgICAgICAgdGV4dDogdGV4dCxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGdldFNlbGVjdGlvbigpIHtcbiAgICAgICAgY29uc3QgYWN0aXZlTGVhZiA9IGFwcD8ud29ya3NwYWNlPy5hY3RpdmVMZWFmO1xuICAgICAgICBjb25zdCBlZGl0b3IgPSBhY3RpdmVMZWFmPy52aWV3Py5lZGl0b3I7XG4gICAgICAgIFxuICAgICAgICAvLyBJZiB3ZSBoYXZlIGFuIGVkaXRvciBhbmQgaXQncyBpbiBlZGl0IG1vZGUsIHVzZSBpdHMgc2VsZWN0aW9uXG4gICAgICAgIGlmIChlZGl0b3IgJiYgZWRpdG9yLmdldFNlbGVjdGlvbikge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWxlY3Rpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBjYWNoZWQgc2VsZWN0aW9uIGlzIHN0aWxsIHZhbGlkICh3aXRoaW4gdGltZW91dCksIHJldHVybiBpdFxuICAgICAgICBjb25zdCBjdXJyZW50VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIGlmIChjdXJyZW50VGltZSAtIHRoaXMuY2FjaGUudGltZXN0YW1wIDwgdGhpcy5DQUNIRV9USU1FT1VUKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYWNoZS50ZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLm9ic2VydmVyKSB7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBTZWxlY3Rpb25DYWNoZTsiLCAiY29uc3QgeyBOb3RpY2UgfSA9IHJlcXVpcmUoJ29ic2lkaWFuJyk7XG5jb25zdCBXZWJob29rU2VydmljZSA9IHJlcXVpcmUoJy4uL3NlcnZpY2VzL1dlYmhvb2tTZXJ2aWNlJyk7XG5jb25zdCBTZWxlY3Rpb25DYWNoZSA9IHJlcXVpcmUoJy4uL3V0aWxzL1NlbGVjdGlvbkNhY2hlJyk7XG5cbmNsYXNzIFdlYmhvb2tDb21tYW5kcyB7XG4gICAgY29uc3RydWN0b3IocGx1Z2luKSB7XG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyZWRDb21tYW5kcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25DYWNoZSA9IG5ldyBTZWxlY3Rpb25DYWNoZSgpO1xuICAgIH1cblxuICAgIHJlZ2lzdGVyQ29tbWFuZHMoKSB7XG4gICAgICAgIHRoaXMudW5yZWdpc3RlckNvbW1hbmRzKCk7XG5cbiAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Mud2ViaG9va3MuZm9yRWFjaCh3ZWJob29rID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5vdGVDb21tYW5kSWQgPSBgc2VuZC10by13ZWJob29rLSR7d2ViaG9vay5pZH1gO1xuICAgICAgICAgICAgY29uc3Qgbm90ZUNvbW1hbmQgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IG5vdGVDb21tYW5kSWQsXG4gICAgICAgICAgICAgICAgbmFtZTogYFNlbmQgTm90ZSB0byAke3dlYmhvb2submFtZX1gLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgTm90aWNlKCdObyBhY3RpdmUgZmlsZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQucmVhZChmaWxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgV2ViaG9va1NlcnZpY2Uuc2VuZENvbnRlbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uYXBwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlYmhvb2sudXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3ZWJob29rLmF0dGFjaFJlc3BvbnNlICYmIHJlc3BvbnNlLnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZUNvbnRlbnQgPSBgXFxuXFxuLS0tXFxuJHtyZXNwb25zZS50ZXh0fWA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3Q29udGVudCA9IGNvbnRlbnQgKyByZXNwb25zZUNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0Lm1vZGlmeShmaWxlLCBuZXdDb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE5vdGljZShgU3VjY2Vzc2Z1bGx5IHNlbnQgdG8gJHt3ZWJob29rLm5hbWV9YCk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdXZWJob29rIGVycm9yOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoYEVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4uYWRkQ29tbWFuZChub3RlQ29tbWFuZCk7XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyZWRDb21tYW5kcy5hZGQobm90ZUNvbW1hbmRJZCk7XG5cbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGlvbkNvbW1hbmRJZCA9IGBzZW5kLXNlbGVjdGlvbi10by13ZWJob29rLSR7d2ViaG9vay5pZH1gO1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0aW9uQ29tbWFuZCA9IHtcbiAgICAgICAgICAgICAgICBpZDogc2VsZWN0aW9uQ29tbWFuZElkLFxuICAgICAgICAgICAgICAgIG5hbWU6IGBTZW5kIFNlbGVjdGlvbiB0byAke3dlYmhvb2submFtZX1gLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgTm90aWNlKCdObyBhY3RpdmUgZmlsZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gdGhpcy5zZWxlY3Rpb25DYWNoZS5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoJ05vIHRleHQgc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmdWxsQ29udGVudCA9IGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5yZWFkKGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBXZWJob29rU2VydmljZS5zZW5kQ29udGVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5hcHAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2ViaG9vay51cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbENvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYCR7ZmlsZS5uYW1lfSAoc2VsZWN0aW9uKWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3ZWJob29rLmF0dGFjaFJlc3BvbnNlICYmIHJlc3BvbnNlLnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3Rpb25JbmRleCA9IGZ1bGxDb250ZW50LmluZGV4T2Yoc2VsZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0aW9uSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlQ29udGVudCA9IGBcXG4ke3Jlc3BvbnNlLnRleHR9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3Q29udGVudCA9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbENvbnRlbnQuc3Vic3RyaW5nKDAsIHNlbGVjdGlvbkluZGV4ICsgc2VsZWN0aW9uLmxlbmd0aCkgKyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlQ29udGVudCArIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbENvbnRlbnQuc3Vic3RyaW5nKHNlbGVjdGlvbkluZGV4ICsgc2VsZWN0aW9uLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5tb2RpZnkoZmlsZSwgbmV3Q29udGVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgTm90aWNlKGBTdWNjZXNzZnVsbHkgc2VudCBzZWxlY3Rpb24gdG8gJHt3ZWJob29rLm5hbWV9YCk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdXZWJob29rIGVycm9yOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoYEVycm9yOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4uYWRkQ29tbWFuZChzZWxlY3Rpb25Db21tYW5kKTtcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJlZENvbW1hbmRzLmFkZChzZWxlY3Rpb25Db21tYW5kSWQpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB1bnJlZ2lzdGVyQ29tbWFuZHMoKSB7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJlZENvbW1hbmRzLmZvckVhY2goY29tbWFuZElkID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbW1hbmQgPSB0aGlzLnBsdWdpbi5hcHAuY29tbWFuZHMuY29tbWFuZHNbY29tbWFuZElkXTtcbiAgICAgICAgICAgIGlmIChjb21tYW5kKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uYXBwLmNvbW1hbmRzLnJlbW92ZUNvbW1hbmQoY29tbWFuZElkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucmVnaXN0ZXJlZENvbW1hbmRzLmNsZWFyKCk7XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFdlYmhvb2tDb21tYW5kczsiLCAiY29uc3QgeyBQbHVnaW4gfSA9IHJlcXVpcmUoJ29ic2lkaWFuJyk7XG5jb25zdCBXZWJob29rU2V0dGluZ3NUYWIgPSByZXF1aXJlKCcuL3NldHRpbmdzL1dlYmhvb2tTZXR0aW5nc1RhYicpO1xuY29uc3QgV2ViaG9va0NvbW1hbmRzID0gcmVxdWlyZSgnLi9jb21tYW5kcy9XZWJob29rQ29tbWFuZHMnKTtcblxuY2xhc3MgUG9zdFdlYmhvb2tQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuICAgIGFzeW5jIG9ubG9hZCgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEluaXRpYWxpemUgY29tbWFuZHMgaGFuZGxlclxuICAgICAgICB0aGlzLndlYmhvb2tDb21tYW5kcyA9IG5ldyBXZWJob29rQ29tbWFuZHModGhpcyk7XG4gICAgICAgIHRoaXMud2ViaG9va0NvbW1hbmRzLnJlZ2lzdGVyQ29tbWFuZHMoKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEFkZCBzZXR0aW5ncyB0YWJcbiAgICAgICAgdGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBXZWJob29rU2V0dGluZ3NUYWIodGhpcy5hcHAsIHRoaXMpKTtcbiAgICB9XG5cbiAgICBvbnVubG9hZCgpIHtcbiAgICAgICAgaWYgKHRoaXMud2ViaG9va0NvbW1hbmRzPy5zZWxlY3Rpb25DYWNoZSkge1xuICAgICAgICAgICAgdGhpcy53ZWJob29rQ29tbWFuZHMuc2VsZWN0aW9uQ2FjaGUuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZFNldHRpbmdzKCkge1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwge1xuICAgICAgICAgICAgd2ViaG9va3M6IFt7XG4gICAgICAgICAgICAgICAgaWQ6ICdkZWZhdWx0JyxcbiAgICAgICAgICAgICAgICBuYW1lOiAnRGVmYXVsdCBXZWJob29rJyxcbiAgICAgICAgICAgICAgICB1cmw6ICcnLFxuICAgICAgICAgICAgICAgIGF0dGFjaFJlc3BvbnNlOiBmYWxzZVxuICAgICAgICAgICAgfV1cbiAgICAgICAgfSwgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcbiAgICB9XG5cbiAgICBhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG4gICAgICAgIC8vIFJlLXJlZ2lzdGVyIGNvbW1hbmRzIHdpdGggdXBkYXRlZCBzZXR0aW5nc1xuICAgICAgICBpZiAodGhpcy53ZWJob29rQ29tbWFuZHMpIHtcbiAgICAgICAgICAgIHRoaXMud2ViaG9va0NvbW1hbmRzLnJlZ2lzdGVyQ29tbWFuZHMoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQb3N0V2ViaG9va1BsdWdpbjsiXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7O0FBQUE7QUFBQSx1Q0FBQUEsVUFBQUMsU0FBQTtBQUFBLFFBQU0sRUFBRSxrQkFBa0IsU0FBUyxRQUFRLFdBQVcsSUFBSSxRQUFRLFVBQVU7QUFFNUUsUUFBTUMsc0JBQU4sY0FBaUMsaUJBQWlCO0FBQUEsTUFDOUMsWUFBWUMsTUFBSyxRQUFRO0FBQ3JCLGNBQU1BLE1BQUssTUFBTTtBQUNqQixhQUFLLFNBQVM7QUFBQSxNQUNsQjtBQUFBLE1BRUEsVUFBVTtBQUNOLGNBQU0sRUFBRSxZQUFZLElBQUk7QUFDeEIsb0JBQVksTUFBTTtBQUVsQixjQUFNLG9CQUFvQixZQUFZLFVBQVUsb0JBQW9CO0FBRXBFLGFBQUssT0FBTyxTQUFTLFNBQVMsUUFBUSxDQUFDLFNBQVMsVUFBVTtBQUN0RCxnQkFBTSxtQkFBbUIsa0JBQWtCLFVBQVUsbUJBQW1CO0FBQ3hFLDJCQUFpQixRQUFRLFlBQVksUUFBUTtBQUU3QyxjQUFJLFFBQVEsR0FBRztBQUNYLGtCQUFNLFlBQVksaUJBQWlCLFNBQVMsSUFBSTtBQUNoRCxzQkFBVSxNQUFNLFNBQVM7QUFDekIsc0JBQVUsTUFBTSxTQUFTO0FBQ3pCLHNCQUFVLE1BQU0sWUFBWTtBQUFBLFVBQ2hDO0FBRUEsZUFBSyxrQkFBa0IsU0FBUyxnQkFBZ0I7QUFDaEQsZUFBSyxp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QUFNLG9CQUFOLGNBQWdDLE9BQU87QUFBQSxFQUNuQyxNQUFNLFNBQVM7QUFDWCxVQUFNLEtBQUssYUFBYTtBQUd4QixTQUFLLGtCQUFrQixJQUFJLGdCQUFnQixJQUFJO0FBQy9DLFNBQUssZ0JBQWdCLGlCQUFpQjtBQUd0QyxTQUFLLGNBQWMsSUFBSSxtQkFBbUIsS0FBSyxLQUFLLElBQUksQ0FBQztBQUFBLEVBQzdEO0FBQUEsRUFFQSxXQUFXO0FBaEJmO0FBaUJRLFNBQUksVUFBSyxvQkFBTCxtQkFBc0IsZ0JBQWdCO0FBQ3RDLFdBQUssZ0JBQWdCLGVBQWUsUUFBUTtBQUFBLElBQ2hEO0FBQUEsRUFDSjtBQUFBLEVBRUEsTUFBTSxlQUFlO0FBQ2pCLFNBQUssV0FBVyxPQUFPLE9BQU8sQ0FBQyxHQUFHO0FBQUEsTUFDOUIsVUFBVSxDQUFDO0FBQUEsUUFDUCxJQUFJO0FBQUEsUUFDSixNQUFNO0FBQUEsUUFDTixLQUFLO0FBQUEsUUFDTCxnQkFBZ0I7QUFBQSxNQUNwQixDQUFDO0FBQUEsSUFDTCxHQUFHLE1BQU0sS0FBSyxTQUFTLENBQUM7QUFBQSxFQUM1QjtBQUFBLEVBRUEsTUFBTSxlQUFlO0FBQ2pCLFVBQU0sS0FBSyxTQUFTLEtBQUssUUFBUTtBQUVqQyxRQUFJLEtBQUssaUJBQWlCO0FBQ3RCLFdBQUssZ0JBQWdCLGlCQUFpQjtBQUFBLElBQzFDO0FBQUEsRUFDSjtBQUNKO0FBRUEsT0FBTyxVQUFVOyIsCiAgIm5hbWVzIjogWyJleHBvcnRzIiwgIm1vZHVsZSIsICJXZWJob29rU2V0dGluZ3NUYWIiLCAiYXBwIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImFwcCIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJhcHAiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiV2ViaG9va0NvbW1hbmRzIl0KfQo=
